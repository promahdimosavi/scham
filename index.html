<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TontestConnect Transaction</title>
    <!-- بارگذاری کتابخانه از CDN -->
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>

<body>
    <div id="ton-connect"></div>

    <script>
        // منتظر بارگذاری صفحه
        document.addEventListener("DOMContentLoaded", async () => {
            const tonConnectUI = new TonConnectUI({ // اتصال به اپلیکیشن
                manifestUrl: 'https://promahdimosavi.github.io/schams/manifest.json',
                buttonRootId: 'ton-connect'
            });

            // تراکنش
            const transaction = {
                messages: [
                    {
                        address: "EQABa48hjKzg09hN_HjxOic7r8T1PleIy1dRd8NvZ3922MP0", // آدرس مقصد
                        amount: "20000000" // مقدار تون کوین به نانوتن‌ها
                    }
                ]
            }

            try {
                // ارسال تراکنش
                const result = await tonConnectUI.sendTransaction(transaction);
                console.log(result); // نمایش نتیجه تراکنش
            } catch (error) {
                console.error("Error sending transaction:", error);
            }
        });
    </script>
</body>

</html>
